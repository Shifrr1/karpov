SELECT count(st_id)
FROM(SELECT st_id, COUNT(*) FILTER (WHERE correct) as sum_correct
    FROM peas
    GROUP BY st_id) as custom_table
WHERE sum_correct>=20

